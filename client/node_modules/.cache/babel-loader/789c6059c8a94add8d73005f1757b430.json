{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hitma\\\\homework\\\\google-book-search\\\\client\\\\src\\\\pages\\\\Search.js\";\nimport React, { Component } from \"react\";\nimport SearchForm from \"../components/SearchForm\";\nimport API from \"../utils/api\";\nimport List from \"../components/SearchList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: \"\",\n      books: [],\n      error: \"\",\n      button: \"Save\"\n    };\n\n    this.handleInputChange = event => {\n      this.setState({\n        query: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      API.searchBooks(this.state.query).then(res => {\n        if (res.data.items === \"error\") {\n          throw new Error(res.data.items);\n        } else {\n          const bookData = res.data.items.map(item => {\n            return {\n              title: item.volumeInfo.title,\n              authors: item.volumeInfo.authors,\n              about: item.volumeInfo.description,\n              image: item.volumeInfo.imageLinks.thumbnail,\n              link: item.volumeInfo.infoLink\n            };\n          });\n          this.setState({\n            books: bookData,\n            error: \"\"\n          });\n        }\n      }).catch(err => this.setState({\n        books: [],\n        error: err.items\n      }));\n    };\n\n    this.handleSave = event => {\n      event.preventDefault();\n      API.saveBook(event.target.value).then(event.target.classList.add(\"disabled\")).catch(err => console.log(err));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(SearchForm, {\n        handleInputChange: this.handleInputChange,\n        handleSubmit: this.handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        books: this.state.books,\n        handleSave: this.handleSave,\n        button: this.state.button\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/hitma/homework/google-book-search/client/src/pages/Search.js"],"names":["React","Component","SearchForm","API","List","Search","state","query","books","error","button","handleInputChange","event","setState","target","value","handleSubmit","preventDefault","searchBooks","then","res","data","items","Error","bookData","map","item","title","volumeInfo","authors","about","description","image","imageLinks","thumbnail","link","infoLink","catch","err","handleSave","saveBook","classList","add","console","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport SearchForm from \"../components/SearchForm\";\r\nimport API from \"../utils/api\";\r\nimport List from \"../components/SearchList\"\r\n\r\n\r\nclass Search extends Component {\r\n  state = {\r\n    query: \"\",\r\n    books: [],\r\n    error: \"\",\r\n    button: \"Save\"\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    this.setState({ query: event.target.value })\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    API.searchBooks(this.state.query)\r\n      .then(res => {\r\n        if (res.data.items === \"error\") {\r\n          throw new Error(res.data.items);\r\n        }\r\n        else {\r\n          const bookData = res.data.items.map((item)=> {\r\n            return {\r\n              title: item.volumeInfo.title,\r\n              authors: item.volumeInfo.authors,\r\n              about: item.volumeInfo.description,\r\n              image: item.volumeInfo.imageLinks.thumbnail,\r\n              link: item.volumeInfo.infoLink\r\n            }\r\n          });\r\n          this.setState({books: bookData, error: \"\"})\r\n        }\r\n      })\r\n      .catch(err => this.setState({books:[], error: err.items }));\r\n  }\r\n\r\n  handleSave = event => {\r\n    event.preventDefault();\r\n    API.saveBook(event.target.value)\r\n      .then(event.target.classList.add(\"disabled\"))\r\n      .catch(err => console.log(err))    \r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        <SearchForm\r\n        handleInputChange={this.handleInputChange}\r\n        handleSubmit={this.handleSubmit}\r\n        />\r\n        <List\r\n        books={this.state.books}\r\n        handleSave={this.handleSave}\r\n        button={this.state.button}\r\n        />\r\n      </div>\r\n    ) \r\n  }\r\n\r\n}\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}